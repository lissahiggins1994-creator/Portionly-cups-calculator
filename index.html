<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Portionly Cup Calculator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #f7f1ff;
      --card-bg: #ffffff;
      --accent: #f38fb8;
      --accent-strong: #d881ff;
      --text-main: #2b2136;
      --text-muted: #7b6a90;
      --border-subtle: #efe3ff;
      --radius-card: 22px;
      --shadow-soft: 0 18px 45px rgba(64, 33, 90, 0.16);
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #ffe2ff 0, var(--bg) 38%, #f3f7ff 100%);
      color: var(--text-main);
      line-height: 1.5;
    }

    .page-wrap {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 32px 16px;
    }

    .inner { max-width: 600px; width: 100%; }

    .brand {
      text-align: center;
      font-size: 12px;
      letter-spacing: 0.18em;
      text-transform: lowercase;
      color: #a38ac7;
      margin-bottom: 6px;
    }

    .title {
      text-align: center;
      font-size: 26px;
      font-weight: 800;
      margin-bottom: 4px;
      letter-spacing: 0.02em;
    }

    .subtitle {
      text-align: center;
      font-size: 14px;
      color: var(--text-muted);
      margin-bottom: 24px;
    }

    .card {
      background: var(--card-bg);
      border-radius: var(--radius-card);
      box-shadow: var(--shadow-soft);
      padding: 24px;
      border: 1px solid var(--border-subtle);
    }

    .field { margin-bottom: 20px; }

    label {
      display: block;
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 6px;
    }

    input[type="number"], select {
      width: 100%;
      padding: 10px;
      border-radius: 10px;
      border: 1px solid #e1d4ff;
      background: #faf7ff;
      font-size: 15px;
      outline: none;
    }

    .grid-two {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }

    .unit-row {
      display: flex;
      gap: 8px;
      margin-bottom: 10px;
    }

    .unit-pill {
      padding: 5px 15px;
      border-radius: 20px;
      border: 1px solid #f3e7ff;
      background: #fbf7ff;
      font-size: 12px;
      cursor: pointer;
      transition: 0.2s;
    }

    .unit-pill.active {
      background: var(--accent);
      border-color: var(--accent);
      color: white;
    }

    .btn-main {
      width: 100%;
      padding: 15px;
      border-radius: 30px;
      border: none;
      background: linear-gradient(135deg, #ff9fc4, #d881ff);
      color: white;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      box-shadow: 0 8px 20px rgba(216, 129, 255, 0.3);
      margin-top: 10px;
    }

    .results {
      display: none;
      margin-top: 25px;
      padding: 20px;
      border-radius: 18px;
      background: #fdfaff;
      border: 2px solid #f1ddff;
    }

    .cups-list {
      list-style: none;
      padding: 0;
      margin: 15px 0;
    }

    .cups-list li {
      display: flex;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px solid #efe3ff;
    }

    .medical-disclaimer {
      background: #fff0f5;
      border: 1px solid #ffd1e3;
      padding: 15px;
      border-radius: 12px;
      margin-top: 20px;
    }

    .error-msg {
      color: #d63031;
      font-size: 13px;
      text-align: center;
      margin-top: 10px;
      display: none;
    }
  </style>
</head>
<body>

  <div class="page-wrap">
    <div class="inner">
      <div class="brand">portionly wellbeing</div>
      <h1 class="title">Portionly Cup Calculator</h1>
      <p class="subtitle">A gentle guide to balanced daily eating.</p>

      <div class="card">
        <form id="calc-form">
          <div class="field">
            <label>Gender</label>
            <select id="gender">
              <option value="female">Female</option>
              <option value="male">Male</option>
            </select>
          </div>

          <div class="field">
            <label>Age (years)</label>
            <input id="age" type="number" placeholder="e.g. 34" required />
          </div>

          <div class="field">
            <label>Height</label>
            <div class="unit-row" id="height-units">
              <span class="unit-pill active" data-val="cm">cm</span>
              <span class="unit-pill" data-val="ftin">ft + in</span>
            </div>
            <div id="h-cm-input">
              <input id="heightCm" type="number" placeholder="e.g. 165" />
            </div>
            <div id="h-ft-input" style="display:none;" class="grid-two">
              <input id="heightFt" type="number" placeholder="ft" />
              <input id="heightIn" type="number" placeholder="in" />
            </div>
          </div>

          <div class="field">
            <label>Weight</label>
            <div class="unit-row" id="weight-units">
              <span class="unit-pill active" data-val="kg">kg</span>
              <span class="unit-pill" data-val="lb">lbs</span>
              <span class="unit-pill" data-val="st">st + lb</span>
            </div>
            <div id="w-kg-input">
              <input id="weightKg" type="number" step="0.1" placeholder="e.g. 70" />
            </div>
            <div id="w-lb-input" style="display:none;">
              <input id="weightLb" type="number" step="0.1" placeholder="e.g. 154" />
            </div>
            <div id="w-st-input" style="display:none;" class="grid-two">
              <input id="weightSt" type="number" placeholder="st" />
              <input id="weightStLb" type="number" step="0.1" placeholder="lb" />
            </div>
          </div>

          <div class="field">
            <label>Activity Level</label>
            <select id="activity">
              <option value="1.2">Sedentary (mostly sitting)</option>
              <option value="1.375">Lightly active (1–3 days/week)</option>
              <option value="1.55">Moderately active (3–5 days/week)</option>
              <option value="1.725">Very active (6–7 days/week)</option>
            </select>
          </div>

          <button type="submit" class="btn-main">Calculate My Cups</button>
          <div id="error-msg" class="error-msg">Please fill in all details correctly.</div>
        </form>

        <div id="results" class="results">
          <h2 style="margin-top:0; font-size: 20px;">Your Daily Guide</h2>
          <ul id="cups-list" class="cups-list"></ul>
          
<div style="margin-top: 15px; padding-top: 15px; border-top: 1px dashed #efe3ff;">
  <p style="font-size: 13px; font-weight: 600; margin-bottom: 8px; color: var(--text-main);">✨ Daily Success Tips:</p>
  <ul style="font-size: 12px; color: var(--text-muted); padding-left: 20px; margin: 0;">
    <li style="margin-bottom: 5px;"><strong>Hydration:</strong> Aim for 8–10 glasses of water. Fiber needs water to work its magic!</li>
    <li style="margin-bottom: 5px;"><strong>Extra Hunger:</strong> If you're physically hungry, add a <strong>Green Cup</strong> (Veggies) for volume first. If you're feeling weak, add a <strong>Pink Cup</strong> (Protein).</li>
    <li style="margin-bottom: 5px;"><strong>The 80/20 Rule:</strong> Aim for consistency, not perfection. Life happens, and that’s okay!</li>
  </ul>
</div>
          
          <div class="medical-disclaimer">
            <p style="margin:0; font-size: 12px; color: #c2185b; font-weight: bold; text-transform: uppercase;">⚠️ Medical Disclaimer</p>
            <p style="margin:8px 0 0; font-size: 13px; color: #444;">
              This calculator provides general nutritional guidance only. It is <strong>not medical advice</strong>. 
              If you have any medical conditions, are pregnant, or have a history of disordered eating, please <strong>consult a doctor or qualified health professional</strong> before following this guide.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Logic for toggling unit buttons (Pills)
    function setupPills(containerId, inputMap) {
      const container = document.getElementById(containerId);
      const pills = container.querySelectorAll('.unit-pill');
      
      pills.forEach(pill => {
        pill.addEventListener('click', () => {
          pills.forEach(p => p.classList.remove('active'));
          pill.classList.add('active');
          
          const selected = pill.getAttribute('data-val');
          Object.keys(inputMap).forEach(key => {
            const el = document.getElementById(inputMap[key]);
            el.style.display = (key === selected) ? (inputMap[key].includes('ft') || inputMap[key].includes('st') ? 'grid' : 'block') : 'none';
          });
        });
      });
    }

    setupPills('height-units', { cm: 'h-cm-input', ftin: 'h-ft-input' });
    setupPills('weight-units', { kg: 'w-kg-input', lb: 'w-lb-input', st: 'w-st-input' });

    // Calculation Logic
    const form = document.getElementById('calc-form');
    form.addEventListener('submit', function(e) {
      e.preventDefault();

      // Get Height in CM
      let hVal = 0;
      const hType = document.querySelector('#height-units .active').dataset.val;
      if(hType === 'cm') {
        hVal = parseFloat(document.getElementById('heightCm').value);
      } else {
        hVal = (parseFloat(document.getElementById('heightFt').value || 0) * 30.48) + 
               (parseFloat(document.getElementById('heightIn').value || 0) * 2.54);
      }

      // Get Weight in KG
      let wVal = 0;
      const wType = document.querySelector('#weight-units .active').dataset.val;
      if(wType === 'kg') {
        wVal = parseFloat(document.getElementById('weightKg').value);
      } else if(wType === 'lb') {
        wVal = parseFloat(document.getElementById('weightLb').value) * 0.4535;
      } else {
        wVal = (parseFloat(document.getElementById('weightSt').value || 0) * 6.35) + 
               (parseFloat(document.getElementById('weightStLb').value || 0) * 0.4535);
      }

      const age = parseFloat(document.getElementById('age').value);
      const gender = document.getElementById('gender').value;
      const activity = parseFloat(document.getElementById('activity').value);

      if(!hVal || !wVal || !age) {
        document.getElementById('error-msg').style.display = 'block';
        return;
      }
      document.getElementById('error-msg').style.display = 'none';

      // Mifflin-St Jeor Equation
      const bmr = (10 * wVal) + (6.25 * hVal) - (5 * age) + (gender === 'female' ? -161 : 5);
      const tdee = bmr * activity;

      // Assigning Cups based on calorie tiers
      let p, c, v, f, fat, s;
      if (tdee < 1700) {
        p=4; c=3; v=4; f=2; fat=1; s=1;
      } else if (tdee < 2100) {
        p=5; c=4; v=5; f=2; fat=2; s=1;
      } else if (tdee < 2500) {
        p=6; c=5; v=5; f=3; fat=2; s=2;
      } else {
        p=7; c=6; v=6; f=3; fat=3; s=2;
      }

      const list = document.getElementById('cups-list');
      list.innerHTML = `
        <li><span><strong>Pink</strong> Protein (¾ cup)</span> <span>${p} Cups</span></li>
        <li><span><strong>Yellow</strong> Carbs (½ cup)</span> <span>${c} Cups</span></li>
        <li><span><strong>Green</strong> Veggies (1 cup)</span> <span>${v} Cups</span></li>
        <li><span><strong>Purple</strong> Fruit (1 cup)</span> <span>${f} Cups</span></li>
        <li><span><strong>Orange</strong> Fats (⅓ cup)</span> <span>${fat} Cups</span></li>
        <li><span><strong>Blue</strong> Seeds & Dressings (2 tbsp)</span> <span>${s} Cups</span></li>
      `;

      const resultsDiv = document.getElementById('results');
      resultsDiv.style.display = 'block';
      resultsDiv.scrollIntoView({ behavior: 'smooth' });
    });
  </script>

</body>
</html>


